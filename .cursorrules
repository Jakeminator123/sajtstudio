# Sajtstudio.se - Cursor Rules

## Projektkontext

Detta är en modern företagswebbplats för Sajtstudio.se, inspirerad av Fantasy's design (ca 70% likhet). Byggd med Next.js 16, React 19, TypeScript, Tailwind CSS och Framer Motion.

## Designprinciper

- Monokrom minimalism med accentfärg (svart/vit bas med en accentfärg)
- Stora typografiska element
- Segmenterad layout med visuella avdelare
- Interaktiva inslag (hover-effekter, scroll-animationer)
- Lekfull detalj som ger karaktär

## Kodstil

- Använd TypeScript för typning
- Komponentbaserad struktur i `src/components/`
- Tailwind CSS för styling (utility-first)
- Framer Motion för animationer
- Följ Next.js App Router konventioner

## Viktiga filer och dokumentation

### Projektstruktur och Dokumentation

All dokumentation finns i `docs/` mappen:

- `docs/SITE_STRUCTURE.md` - **LÄS FÖRST**: Komplett översikt över projektstruktur, komponenter, routing och design system
- `docs/MOBILE_DESKTOP_INDEX.md` - **VIKTIGT**: Snabb index över mobil vs desktop komponenter och patterns (använd när du behöver hitta mobil/desktop-kod)
- `docs/RESPONSIVE_DESIGN_GUIDE.md` - Guide för responsiv design, breakpoints och best practices
- `docs/DEBUGGING_GUIDE.md` - Guide för debugging och dev-server integration
- `docs/BROWSER_ERROR_LOGGING.md` - Guide för automatisk browser error logging
- `docs/TYPESCRIPT_GUIDE.md` - Guide för TypeScript i projektet
- `docs/QUICK_FIX_WARNINGS.md` - Snabbguide för att fixa varningar
- `docs/AUTO_FIX_WARNINGS.md` - Guide för automatisk fix av varningar
- `docs/DISABLE_EDGE_TOOLS.md` - Guide för att stänga av Microsoft Edge Tools varningar
- `sajtstudio_roadmap.txt` - Detaljerad projektplan och designvision
- `INPUT_DOC_README.md` - Guide för INPUT_DOC_FOR_CURSOR workflow

### Konfiguration och Kod

- `src/config/designTokens.ts` - Design tokens (färger, typsnitt, spacing) - ändra här för att uppdatera hela sajten
- `src/config/siteConfig.ts` - Site metadata och konfiguration
- `src/lib/responsiveUtils.ts` - Responsive utilities och vanliga patterns
- `src/templates/` - Mallar för sidor och sektioner
- `src/app/` - Next.js App Router sidor
- `src/components/` - Återanvändbara React-komponenter (organiserade i layout/, sections/, ui/, animations/, shared/)
- `render.yaml` - Render deployment konfiguration

## Design System

- **Färger**: Definierade i `src/config/designTokens.ts` - ändra där för att uppdatera hela sajten
- **Typsnitt**: Inter från Google Fonts, responsiva storlekar med clamp()
- **Spacing**: 8px baserat system (xs, sm, md, lg, xl, 2xl, 3xl, 4xl)
- **Animationer**: Använd Framer Motion för alla interaktiva effekter

## Template System

- **PageTemplate**: Använd för nya sidor - ger konsistent struktur med HeaderNav och Footer
- **SectionTemplate**: Använd för sektioner - ger konsistent padding och animationer
- **ComponentTemplate**: Använd för komponenter - ger konsistent struktur och animationer
- Se `TEMPLATE_GUIDE.md` för detaljerad guide

## INPUT_DOC_FOR_CURSOR Workflow

När användaren lägger filer i `INPUT_DOC_FOR_CURSOR/`:

1. **Läs filen** från `INPUT_DOC_FOR_CURSOR/`
2. **Identifiera typ** med `src/lib/inputDocProcessor.ts` funktioner
3. **Flytta filen** till rätt plats:
   - Bilder → `public/images/[kategori]/`
   - Loggor → `public/logos/[kategori]/`
   - Texter → `src/config/content/`
   - JSON → `src/data/`
4. **Uppdatera referenser** i relevanta komponenter om nödvändigt
5. **Använd `src/lib/assetManager.ts`** för att generera korrekta sökvägar

### Filtyper och destinationsmappar:

- `hero-*.jpg` → `public/images/hero/`
- `portfolio-*.png` → `public/images/portfolio/`
- `logo-client-*.svg` → `public/logos/clients/`
- `logo-*.svg` → `public/logos/sajtstudio/`
- `*.txt`, `*.md` → `src/config/content/`
- `*.json` → `src/data/`

## Best Practices

1. **Läs Dokumentation Först**:
   - Kolla `docs/SITE_STRUCTURE.md` för projektstruktur
   - Kolla `docs/MOBILE_DESKTOP_INDEX.md` när du behöver hitta mobil/desktop-kod
   - Kolla `docs/RESPONSIVE_DESIGN_GUIDE.md` för responsiv design patterns
2. **Använd Design Tokens**: Importera från `@/config/designTokens.ts` istället för hårdkodade värden
3. **Använd Templates**: Använd PageTemplate, SectionTemplate eller ComponentTemplate när du skapar nya sidor/sektioner
4. **Separera Innehåll**: Lägg textinnehåll i `src/config/content/` istället för att hårdkoda i komponenter
5. **Path Aliases**: Använd `@/` för imports från `src/`
6. **Responsiv Design**: Bygg mobil-först med Tailwind breakpoints, använd `responsiveUtils.ts` för vanliga patterns
7. **TypeScript**: Använd strikt typing för alla props och funktioner
8. **Komponenter**: Varje komponent i egen fil, 'use client' om hooks/animationer behövs
9. **Mobil vs Desktop**:
   - Använd `MOBILE_DESKTOP_INDEX.md` för att hitta vad som är mobil vs desktop
   - Sök efter kommentarer med "DESKTOP" eller "MOBILE" i stora bokstaver
   - Kolla filnamn (t.ex. `MobileMenu.tsx` är mobil-specifik)
   - Använd `lg:` breakpoint för desktop (1024px+)

## Browser Error Logging

**VIKTIGT**: När användaren säger att de har fel i webbläsaren:

1. **Läs automatiskt**: `logs/errors-summary.txt` (om den finns) eller `logs/browser-errors.json`
2. **Analysera felen**: Identifiera problem från stack traces
3. **Föreslå fixes**: Baserat på feltyper och stack traces
4. **Uppdatera kod**: Fixa problemen automatiskt

Användaren kan köra `npm run check:errors` för att skapa en sammanfattning av felen.

## När användaren lägger filer i INPUT_DOC_FOR_CURSOR

1. Läsa filen från `INPUT_DOC_FOR_CURSOR/`
2. Använd `identifyFileType()` från `src/lib/inputDocProcessor.ts` för att identifiera typ
3. Använd `getDestinationPath()` för att få korrekt destinationssökväg
4. Flytta/kopiera filen till destinationsmappen
5. Uppdatera relevanta komponenter för att använda den nya filen
6. Använd `getImagePath()` eller `getLogoSrc()` från `src/lib/assetManager.ts` för att generera korrekta sökvägar

## Deployment

- Render via `render.yaml`
- Health check på `/api/health`
- PORT sätts automatiskt av Render

## När du lägger till ny funktionalitet

1. **Läs Dokumentation**:
   - `docs/SITE_STRUCTURE.md` - För projektstruktur och komponent-hierarki
   - `docs/MOBILE_DESKTOP_INDEX.md` - För att förstå mobil vs desktop uppdelning
   - `docs/RESPONSIVE_DESIGN_GUIDE.md` - För responsiv design patterns
2. **Använd Templates**: Använd PageTemplate, SectionTemplate eller ComponentTemplate
3. **Använd Design Tokens**: Importera från `src/config/designTokens.ts`
4. **Responsiv Design**:
   - Bygg mobil-först
   - Använd `responsiveUtils.ts` för vanliga patterns
   - Lägg till kommentarer som markerar mobil vs desktop kod
5. **Följ Namngivningskonventioner**: PascalCase för komponenter
6. **Uppdatera Konfiguration**: Uppdatera `siteConfig.ts` om navigation eller metadata ändras
7. **Testa**: Testa responsiv design på mobil och desktop
8. **Separera Innehåll**: Lägg textinnehåll i `src/config/content/` istället för att hårdkoda

## När du behöver hitta mobil/desktop-kod

1. **Läs `docs/MOBILE_DESKTOP_INDEX.md`** - Snabb guide över vad som är mobil vs desktop
2. **Sök efter kommentarer**: Leta efter "DESKTOP" eller "MOBILE" i stora bokstäver i komponenter
3. **Kolla filnamn**: `MobileMenu.tsx` är tydligt mobil-specifik
4. **Sök efter breakpoints**: `lg:hidden` = mobil, `hidden lg:` = desktop
5. **Använd responsiveUtils**: Kolla `src/lib/responsiveUtils.ts` för vanliga patterns

## Dokumentationsunderhåll

**VIKTIGT**: När du gör ändringar, uppdatera dokumentationen:

- Ny komponent → Uppdatera `docs/SITE_STRUCTURE.md`
- Mobil/desktop-ändringar → Uppdatera `docs/MOBILE_DESKTOP_INDEX.md`
- Responsive patterns → Uppdatera `docs/RESPONSIVE_DESIGN_GUIDE.md`
- Strukturändringar → Uppdatera `.cursorrules`

## Auto-fix Varningar

**När användaren ser varningar i Cursor:**

1. **Först:** Kör `npm run fix:warnings` för automatisk fix av vanliga varningar
2. **Om det fortfarande finns varningar:** Användaren kopierar varningarna och ger till AI-agenten
3. **AI-agenten:** Analyserar och fixar varningarna automatiskt

**Vanliga varningar:**

- Microsoft Edge Tools (no-inline-styles) → Ofta falska positiva, kan ignoreras
- TypeScript "Cannot find module" → Kör `npm install` + restart TS server
- TypeScript "Property missing" → Kopiera till AI-agenten för fix
- Markdownlint (MD012, MD026) → Ignoreras för `.cursorrules` filen

Se `docs/QUICK_FIX_WARNINGS.md` för snabbguide.
